{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞{% endblock %}

{% block content %}
<div class="card form-container">
    <h1 class="text-center mb-20">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h1>

    <form method="post">
        <!-- üîê CSRF —Ç–æ–∫–µ–Ω -->
        <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">

        {% for col, val in record_data %}
        <div class="form-group">
            <label class="form-label">
                {% if col == 'employee_role_id' %}ID –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
                {% elif col == 'employeeid' %}–°–æ—Ç—Ä—É–¥–Ω–∏–∫
                {% elif col == 'role_id' %}–†–æ–ª—å
                {% elif col == 'assigned_by' %}–ö—Ç–æ –Ω–∞–∑–Ω–∞—á–∏–ª
                {% elif col == 'assigned_date' %}–î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
                {% elif col == 'is_active' %}–ê–∫—Ç–∏–≤–Ω–∞
                {% else %}{{ col }}{% endif %}
            </label>

            {% if col == 'employee_role_id' %}
            <input type="text" class="form-control" name="{{ col }}" value="{{ val }}" readonly>
            {% elif col == 'employeeid' %}
            <select class="form-control" name="{{ col }}" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</option>
                {% for employee in employees %}
                <option value="{{ employee[0] }}"
                        {% if val == employee[0] %}selected{% endif %}>
                    {{ employee[1] }}
                </option>
                {% endfor %}
            </select>
            {% elif col == 'role_id' %}
            <select class="form-control" name="{{ col }}" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
                {% for role in roles_list %}
                <option value="{{ role[0] }}"
                        {% if val == role[0] %}selected{% endif %}>
                    {{ role[1] }}
                </option>
                {% endfor %}
            </select>
            {% elif col == 'assigned_by' or col == 'assigned_date' %}
            <input type="text" class="form-control" value="{{ val }}" readonly>
            {% elif col == 'is_active' %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="{{ col }}" value="true"
                       {% if val == True or val == 'true' %}checked{% endif %}>
                <label class="form-check-label">
                    {{ '–î–∞' if (val == True or val == 'true') else '–ù–µ—Ç' }}
                </label>
            </div>
            {% else %}
            <input type="text" class="form-control" name="{{ col }}" value="{{ val }}" required>
            {% endif %}
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-success" style="width: 100%">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
    </form>

    <div class="text-center mt-20">
        <a href="/table/–†–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤" class="btn btn-dark">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–æ–ª—è–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</a>
    </div>
</div>
{% endblock %}